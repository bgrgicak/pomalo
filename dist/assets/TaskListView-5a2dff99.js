import{C as x,E as k,D as L,I as T,Z as C,a0 as D,a1 as B,a2 as P,a3 as F,a4 as I,a5 as R,a6 as $,a7 as j,a8 as E,a,a9 as K,d as S,aa as b,v as N,o as y,c as h,j as r,V as g,g as s,t as p,L as d,A as z,F as V,h as H,ab as U,f as q,R as f,n as M,ac as O,ad as Z,ae as G,z as J,u as Q,af as W,ag as X,ah as Y,ai as tt,aj as et,ak as at,al as st,am as it}from"./index-ccb246e3.js";const lt=x("activity-list",()=>{const t=k([]),c=L(),e=T(()=>t.value);return C(()=>c.activities,i=>{t.value=t.value.filter(l=>i[l._id]).map(l=>i[l._id])},{deep:!0}),{list:e,find:i=>c.find(i).then(l=>(t.value=l,l)),add:i=>c.add(i).then(l=>{const _=Object.assign({},i);return _._id=l.id,t.value.push(_),_})}});const ot=D({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...B(),...P(),...F(),...I()},"VTable"),nt=R()({name:"VTable",props:ot(),setup(t,c){let{slots:e}=c;const{themeClasses:n}=$(t),{densityClasses:u}=j(t);return E(()=>a(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!e.top,"v-table--has-bottom":!!e.bottom,"v-table--hover":t.hover},n.value,u.value,t.class],style:t.style},{default:()=>[e.top?.(),e.default?a("div",{class:"v-table__wrapper",style:{height:K(t.height)}},[a("table",null,[e.default()])]):e.wrapper?.(),e.bottom?.()]})),{}}}),ct=t=>(tt("data-v-58bf8ad1"),t=t(),et(),t),rt={class:"activity-list__title mb-0"},dt=ct(()=>s("th",null,null,-1)),ut=["onClick","onDblclick"],_t={class:"activity-list__item"},vt={class:"activity-list__item activity-list__item--actions"},pt=S({__name:"ActivityList",props:["type"],setup(t){const e=t.type;if(!e)throw new Error("ActivityList requires a type prop");const n=k(b(e)),u=N(),i=lt();i.find({selector:{type:e}});const l=(v=!1)=>{i.add(n.value).then(()=>{n.value=b(e)})},_=v=>{u.showRightSidebar(v._id)},A=v=>{at(v).then(()=>{u.hideRightSidebar()})};return(v,m)=>(y(),h(V,null,[a(z,{class:"pa-4 pb-0"},{default:r(()=>[a(g,{cols:"8"},{default:r(()=>[s("h2",rt,p(d(e)+"s"),1)]),_:1}),a(g,{cols:"4",class:"pa-0",align:"right"})]),_:1}),a(nt,{class:"activity-list"},{default:r(()=>[s("thead",null,[s("tr",null,[s("th",null,p(d(f)("Title")),1),s("th",null,p(d(f)("Due Date")),1),dt])]),s("tbody",null,[(y(!0),h(V,null,H(d(i).list,o=>(y(),h("tr",{key:o._id},[s("td",{onClick:()=>_(o),onDblclick:()=>A(o),class:M(["activity-list__item","activity-list__link",o.completedDate?"activity-list__link--completed":""])},p(o.title),43,ut),s("td",_t,p(o.dueDate?d(O)(o.dueDate):""),1),s("td",vt,[a(Z,{activity:o},null,8,["activity"]),a(G,null,{activator:r(({props:w})=>[a(J,Q({icon:"mdi-dots-vertical"},w,{variant:"plain"}),null,16)]),default:r(()=>[a(W,null,{default:r(()=>[a(X,null,{default:r(()=>[a(Y,{activity:o},null,8,["activity"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128)),s("tr",null,[s("td",null,[a(U,{modelValue:n.value.title,"onUpdate:modelValue":m[0]||(m[0]=o=>n.value.title=o),placeholder:d(f)("Add a ")+n.value.type,variant:"plain",onKeyup:q(l,["enter"]),onChange:l},null,8,["modelValue","placeholder","onKeyup"])])])])]),_:1})],64))}});const yt=st(pt,[["__scopeId","data-v-58bf8ad1"]]),ft=S({__name:"TaskListView",setup(t){return(c,e)=>(y(),h("main",null,[a(yt,{type:d(it).Task},null,8,["type"])]))}});export{ft as default};
