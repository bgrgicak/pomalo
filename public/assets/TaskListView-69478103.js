import{D as A,H as k,G as T,K as L,$ as D,a1 as C,a2 as B,a3 as P,a4 as F,a5 as I,a6 as $,a7 as K,a8 as N,a9 as R,a,aa as j,d as S,ab as b,v as H,o as y,c as h,j as r,V as g,g as s,t as p,N as d,z as U,F as V,h as z,ac as E,f as q,U as f,n as G,ad as M,ae as O,af as J,y as Q,u as W,ag as X,ah as Y,ai as Z,aj as tt,ak as et,al as at,am as st,an as it}from"./index-89d17eaf.js";const lt=A("activity-list",()=>{const t=k([]),c=T(),e=L(()=>t.value);return D(()=>c.activities,i=>{t.value=t.value.filter(l=>i[l._id]).map(l=>i[l._id])},{deep:!0}),{list:e,find:i=>c.find(i).then(l=>(t.value=l,l)),add:i=>c.add(i).then(l=>{const _=Object.assign({},i);return _._id=l.id,t.value.push(_),_})}});const nt=C({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...B(),...P(),...F(),...I()},"VTable"),ot=$()({name:"VTable",props:nt(),setup(t,c){let{slots:e}=c;const{themeClasses:o}=K(t),{densityClasses:u}=N(t);return R(()=>a(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!e.top,"v-table--has-bottom":!!e.bottom,"v-table--hover":t.hover},o.value,u.value,t.class],style:t.style},{default:()=>[e.top?.(),e.default?a("div",{class:"v-table__wrapper",style:{height:j(t.height)}},[a("table",null,[e.default()])]):e.wrapper?.(),e.bottom?.()]})),{}}}),ct=t=>(tt("data-v-58bf8ad1"),t=t(),et(),t),rt={class:"activity-list__title mb-0"},dt=ct(()=>s("th",null,null,-1)),ut=["onClick","onDblclick"],_t={class:"activity-list__item"},vt={class:"activity-list__item activity-list__item--actions"},pt=S({__name:"ActivityList",props:["type"],setup(t){const e=t.type;if(!e)throw new Error("ActivityList requires a type prop");const o=k(b(e)),u=H(),i=lt();i.find({selector:{type:e}});const l=(v=!1)=>{i.add(o.value).then(()=>{o.value=b(e)})},_=v=>{u.showRightSidebar(v._id)},w=v=>{at(v).then(()=>{u.hideRightSidebar()})};return(v,m)=>(y(),h(V,null,[a(U,{class:"pa-4 pb-0"},{default:r(()=>[a(g,{cols:"8"},{default:r(()=>[s("h2",rt,p(d(e)+"s"),1)]),_:1}),a(g,{cols:"4",class:"pa-0",align:"right"})]),_:1}),a(ot,{class:"activity-list"},{default:r(()=>[s("thead",null,[s("tr",null,[s("th",null,p(d(f)("Title")),1),s("th",null,p(d(f)("Due Date")),1),dt])]),s("tbody",null,[(y(!0),h(V,null,z(d(i).list,n=>(y(),h("tr",{key:n._id},[s("td",{onClick:()=>_(n),onDblclick:()=>w(n),class:G(["activity-list__item","activity-list__link",n.completedDate?"activity-list__link--completed":""])},p(n.title),43,ut),s("td",_t,p(n.dueDate?d(M)(n.dueDate):""),1),s("td",vt,[a(O,{activity:n},null,8,["activity"]),a(J,null,{activator:r(({props:x})=>[a(Q,W({icon:"mdi-dots-vertical"},x,{variant:"plain"}),null,16)]),default:r(()=>[a(X,null,{default:r(()=>[a(Y,null,{default:r(()=>[a(Z,{activity:n},null,8,["activity"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128)),s("tr",null,[s("td",null,[a(E,{modelValue:o.value.title,"onUpdate:modelValue":m[0]||(m[0]=n=>o.value.title=n),placeholder:d(f)("Add a ")+o.value.type,variant:"plain",onKeyup:q(l,["enter"]),onChange:l},null,8,["modelValue","placeholder","onKeyup"])])])])]),_:1})],64))}});const yt=st(pt,[["__scopeId","data-v-58bf8ad1"]]),ft=S({__name:"TaskListView",setup(t){return(c,e)=>(y(),h("main",null,[a(yt,{type:d(it).Task},null,8,["type"])]))}});export{ft as default};
